{% if not fields_only %}
    <form action="{{ action_url|default:'' }}" method="{{ request_method| default:'get' }}">
    {% csrf_token %}
{% endif %}

{% for error in form.non_field_errors %}
    <div class="alert alert-danger">{{ error}}</div>
{% endfor %}

{% for field in form %}
    
    <div class="d-flex justify-content-center">
        <div class="mb-2">
            {{ field.label }}
            <br>
            {{ field }}
        </div>
    </div>

    {% if field.errors %}
        {% for error in field.errors %}
            <div class="alert alert-danger">{{ error}}</div>
        {% endfor %}
    {% endif %}

{% endfor %}

{% if not fields_only %}
    <div class="d-flex justify-content-center">
        <button class="btn btn-success">{{ btn_text|default:'Submit' }}</button>
    </div>
    </form>
{% endif %}